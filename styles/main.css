/* ==================================== */
/* 1. Variáveis e Base */
/* ==================================== */

:root {
    /* Paleta e Efeitos */
    --verde-claro: #a2d9a2; 
    --roxo-escuro: #4c1d95; 
    --fundo-base: #1e1e2f; 
    --verde-sutil: #7da57d; 
    --roxo-transparente: rgba(76, 29, 149, 0.7); /* Menos opaco para mais profundidade */
    --sombra-profunda: rgba(0, 0, 0, 0.7);
    --sombra-leve: rgba(0, 0, 0, 0.2);
    
    /* Outros */
    --font-fancy: 'Great Vibes', cursive;
    --font-body: 'Montserrat', sans-serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    transition: all 0.4s ease; /* Transição global suave */
}

body {
    font-family: var(--font-body);
    background: linear-gradient(135deg, var(--roxo-escuro), var(--fundo-base));
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    position: relative;
    overflow: hidden;
    perspective: 1500px; /* Profundidade 3D para o Parallax */
    padding: 2rem;
}

/* Efeito de Névoa no Fundo */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, rgba(162, 217, 162, 0.1) 0%, transparent 70%);
    z-index: -2;
    animation: pulsar 15s infinite alternate;
}

@keyframes pulsar {
    from { opacity: 0.5; }
    to { opacity: 0.8; }
}

main {
    width: 100%;
    max-width: 650px;
    z-index: 10;
    transform-style: preserve-3d; /* Permite que o Main seja um container 3D */
}

/* ==================================== */
/* 2. Efeitos Flutuantes (Partículas) */
/* ==================================== */

.flutuador {
    position: absolute;
    font-size: 1.5rem;
    opacity: 0.8;
    z-index: 5;
    animation: flutuarParticula 15s linear infinite;
    /* Efeito Parallax - eles flutuam em uma camada mais próxima */
    transform: translateZ(50px); 
    pointer-events: none;
}

@keyframes flutuarParticula {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    10% { opacity: 0.8; }
    100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
}

/* ==================================== */
/* 3. Tela Inicial (Pre-Content - Envelope Flutuante) */
/* ==================================== */

.pre-content-container {
    padding: 1rem; /* Adiciona padding para o efeito flutuante */
    animation: float 6s ease-in-out infinite; /* Animação de flutuação suave */
}

@keyframes float {
    0% { transform: translateY(0px) translateZ(0); }
    50% { transform: translateY(-10px) translateZ(10px); } /* Efeito 3D sutil */
    100% { transform: translateY(0px) translateZ(0); }
}

.pre-content {
    background: var(--roxo-transparente);
    border: 1px solid var(--verde-sutil); 
    border-radius: 20px; /* Borda mais suave */
    padding: 3.5rem 2.5rem;
    text-align: center;
    backdrop-filter: blur(25px) brightness(1.1); /* Blur mais forte */
    box-shadow: 0 20px 50px var(--sombra-profunda); /* Sombra mais intensa */
    opacity: 1;
    transform: scale(1);
    transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Bounce/Zoom na transição */
}

.title-sad {
    font-size: 1.6rem;
    font-weight: 300; /* Deixa o texto mais leve, mais triste */
    color: var(--verde-claro);
    text-shadow: 0 0 10px rgba(162, 217, 162, 0.5); /* Brilho sutil */
}

.subtitle-sad {
    font-weight: 300;
}

.open-btn {
    background: var(--verde-claro);
    color: var(--fundo-base);
    box-shadow: 0 8px 20px rgba(162, 217, 162, 0.6);
    /* Efeito Neumorphism/Ghostly */
    border-radius: 10px;
    padding: 0.8rem 2.5rem;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.open-btn:hover {
    background: var(--verde-sutil);
    transform: translateY(-5px) scale(1.05); /* Puxa o botão para fora */
    box-shadow: 0 15px 30px rgba(162, 217, 162, 0.8);
}

/* ==================================== */
/* 4. Poema View (Visualização da Memória) */
/* ==================================== */

.poema-view {
    display: none; 
    opacity: 0;
    /* Fundo mais discreto para focar no texto */
    background: rgba(30, 30, 47, 0.95); 
    border: 1px solid var(--verde-sutil);
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 15px 50px var(--sombra-profunda);
    transform: translateY(20px);
    transition: opacity 1s ease-out, transform 1s ease-out;
}

.poema-title {
    font-size: 2.5rem;
    color: var(--verde-claro);
    border-bottom: 2px solid var(--verde-sutil); /* Linha mais grossa */
}

.poema-scroll-container {
    max-height: 75vh;
    padding-right: 15px; 
}

/* Texto do Poema - Visual de Memória */
.poema-content p {
    font-weight: 300; /* Texto mais etéreo */
    line-height: 1.8;
    letter-spacing: 0.5px;
    opacity: 0.05; 
    transform: translateY(40px) skewY(1deg); /* Distorção/Deslocamento inicial */
    transition: opacity 1s ease-out, transform 1s ease-out; /* Transição mais lenta */
    text-shadow: 0 0 5px var(--sombra-leve);
}

.poema-content p.visible {
    opacity: 0.9;
    transform: translateY(0) skewY(0deg);
    /* Adiciona um pequeno efeito de pulso ao aparecer */
    animation: text-reveal-pulse 0.2s; 
}

@keyframes text-reveal-pulse {
    0% { transform: scale(1.01); }
    100% { transform: scale(1); }
}

/* Destaque para as linhas finais */
.assinatura, .ps-final, .final-line {
    font-weight: 400;
    font-style: italic;
    color: var(--verde-sutil);
}

.final-line {
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: 3px;
    font-size: 1.1rem;
    color: var(--verde-claro);
    margin-top: 3rem;
}
